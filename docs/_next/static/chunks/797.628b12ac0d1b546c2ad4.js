(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{797:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return se}});var n=a(5944),r=a(6265),i=a(9227),o=a(8937),l=a(9444),s=a(537),d=a(3640),c=a(3064);var u={config:{},init:function(e){e.tooltip((new c.RW).call)},view:{renderer:"canvas"}};s.z2l(l,d,u);var h=function(e){var t=e.dataSet,a=(e.options,t.gdc),n=t.gdp,r=s.Uk0().encodings("x"),i=s.x().yearmonth("date");return s.H7P(s.b59().data(a).encode(i,s.y().fieldQ("count").title("Number of perpetrators"),s.$_Y().fieldN("gender").scale({scheme:"set1"})).params(r).width(450).height(360),s.b59().data(n).encode(i,s.y().fieldQ("pctg").title("Percentage of perpetrators"),s.$_Y().fieldN("gender").scale({scheme:"set1"})).encode(i.scale({domain:r})).width(450).height(360)).config({mark:{opacity:.7},background:"#1f2937",axis:{titleFontSize:13,tickColor:"white",labelColor:"white",titleColor:"white",gridColor:"white",gridOpacity:.6,domainColor:"white"},legend:{titleFontSize:16,labelFontSize:14,labelColor:"white",titleColor:"white"},scale:{maxSize:1500},view:{stroke:null}})},g=s.dD$().fields("state");var p={config:{},init:function(e){e.tooltip((new c.RW).call)},view:{renderer:"canvas"}};s.z2l(l,d,p);var f=function(e){var t=e.dataSet,a=e.options;return s.H7P(function(e){var t=e.dataSet,a=e.options,n=t.pst,r=a.field,i=a.yearStart,o=a.yearEnd;return s.HG8().data(n).params(g).transform(s.hXT('datum["year"] >= '+i+' && datum["year"] <= '+o),s.KfZ('datum["underages_ratio"] * 100').as("underages_ratio")).encode(s.y().fieldN("state").sort(s.J69(r).order("descending")).title("State"),s.$_Y().mean(r),s.MdO([s.tvR("state"),s.J69(r)]),s.Ohi().if(g,s.S3k(1)).value(.2))}({dataSet:t,options:a}).height(500),function(e){var t=e.dataSet,a=e.options,n=a.field,r=a.yearStart,i=a.yearEnd,o=t.pst,l=t.usa;return s.aTG(o).layer(s._fs({fill:"#374151",stroke:"#fff",strokeWidth:1}).data(s.t_h(l).feature("states")).transform(s.P58("id").from(s.aTG(o).key("fip").fields("state"))).encode(s.MdO("state")),s.y$q({stroke:"#white"}).data(o).params(g).transform(s.hXT('datum["year"] >= '+r+' && datum["year"] <= '+i),s.tqE("state").aggregate(s.J69(n).as(n),s.J69("perpetrators_per_1M").as("perpetrators_per_1M"),s.J69("latitude").as("latitude"),s.J69("longitude").as("longitude")),s.KfZ('datum["underages_ratio"] * 100').as("underages_ratio")).encode(s.pqJ().fieldQ("latitude"),s.MSO().fieldQ("longitude"),s.$_Y().mean(n).legend({titleLineHeight:10}).scale({scheme:{mean_age:"goldred",underages_ratio:"yellowgreenblue",male_pctg:"tealblues",female_pctg:"redpurple"}[n]}).title({mean_age:"Perpetrators mean age",underages_ratio:["Percentage of underage/total","perpetrators"],male_pctg:["Percentage of ","male perpetrators"],female_pctg:["Percentage of ","female perpetrators"]}[n]),s.dpJ().mean("perpetrators_per_1M").title(["Perpetrators/","1M population/year"]),s.MdO([s.tvR("state"),s.xiU(n),s.xiU("perpetrators_per_1M")]),s.Ohi().if(g,s.S3k(1)).value(.2))).project(s.CJN("albersUsa"))}({dataSet:t,options:a}).height(500).width(720)).config({mark:{opacity:.9},background:"#1f2937",axis:{titleFontSize:16,tickColor:"white",labelColor:"white",titleColor:"white",gridColor:"white",domainColor:"white"},legend:{titleFontSize:14,labelFontSize:12,labelColor:"white",titleColor:"white",symbolFillColor:"#6b7280",symbolStrokeColor:"white"},scale:{maxSize:1500},view:{stroke:null}})};var m={config:{},init:function(e){e.tooltip((new c.RW).call)},view:{renderer:"canvas"}};s.z2l(l,d,m);var y=function(e){var t=e.dataSet,a=e.options,n=t.p,r=(a.yearStart,a.yearEnd,a.color),i=s.lg9().encodings(["x","y"]),o=s.rmI({color:"white"}).data(n).transform(s.hXT('datum["year"] >= 2014 && datum["age"] <= 100')).encode(s.x().fieldO("year"),s.y().mean("age"),s.$_Y().value("#91faef"),s.Ohi().if(i,s.S3k(.6)).value(.2)).params(i),l=s.fpH({opacity:.9}).data(n.derive({label:function(e){return"Mean Age"}})).transform(s.hXT('datum["year"] >= 2014 && datum["age"] <= 100')).encode(s.x().fieldO("year"),s.y().mean("age"),s.$_Y().fieldN("label").scale({scheme:"set3"})).params(i),d=s.fpH().data(n.derive({label:function(e){return"Median Age"}})).transform(s.hXT('datum["year"] >= 2014 && datum["age"] <= 100')).encode(s.x().fieldO("year"),s.y().median("age"),s.$_Y().fieldN("label").scale({scheme:"set3"})),c=s.EY_(o,d,l).width(480).height(480),u=s.ZtJ().data(n.filter((function(e){return e.age<=100}))).transform(s.hXT(i)).encode(s.x().fieldQ("age").scale({domain:[0,100]}).bin({step:5}).title("Age"),s.y().count().scale({domain:[0,28e3]}).title("Number of Perpetrators"),s.$_Y().value(r)).width(480).height(480);return s.H7P(c,u).config({mark:{opacity:.8},background:"#1f2937",axis:{titleFontSize:13,tickColor:"white",labelColor:"white",titleColor:"white",gridOpacity:.6,gridColor:"white",domainColor:"white"},legend:{titleFontSize:16,labelFontSize:14,labelColor:"white",titleColor:"white"},scale:{maxSize:1500},view:{stroke:null}})};var w={config:{},init:function(e){e.tooltip((new c.RW).call)},view:{renderer:"canvas"}};s.z2l(l,d,w);var v=function(e){var t=e.dataSet,a=(e.options,t.gstm),n=s.dD$().fields("gun").bind("legend"),r=s.Uk0().encodings("x");return s.H7P(s.b59({opacity:.7}).data(a).params(n,r).transform(s.hXT('datum["year"] >= 2014')).encode(s.x().yearmonth("date"),s.y().sum("count_guns").title("Number of guns"),s.$_Y().fieldN("gun").scale({scheme:"tableau20"}).title("Gun type"),s.Ohi().if(n,s.S3k(.9)).value(.2)).width(600).height(400),s.fpH({opacity:.8}).data(a).params(n).transform(s.hXT('datum["year"] >= 2014')).encode(s.x().yearmonth("date").scale({domain:r}),s.y().fieldQ("gun_percentage"),s.$_Y().fieldN("gun"),s.Ohi().if(n,s.S3k(.9)).value(.05)).width(600).height(400)).config({mark:{opacity:.9},background:"#1f2937",axis:{titleFontSize:13,tickColor:"white",labelColor:"white",titleColor:"white",gridColor:"white",gridOpacity:.4,domainColor:"white"},legend:{titleFontSize:16,labelFontSize:14,labelColor:"white",titleColor:"white"},scale:{maxSize:1500},view:{stroke:null}})},b=s.dD$().fields("gun");var S={config:{},init:function(e){e.tooltip((new c.RW).call)},view:{renderer:"canvas"}};s.z2l(l,d,S);var x=function(e){var t=e.dataSet,a=e.options;return s.H7P(function(e){var t=e.dataSet,a=e.options,n=a.yearStart,r=a.yearEnd,i=t.gstm;return s.EY_(s.ZtJ({opacity:.8}).params(b).data(i).transform(s.hXT("datum['gun'] != 'Unknown' && datum['year'] >= "+n+" && datum['year'] <= "+r)).encode(s.y().fieldN("gun").sort(s.J69("gun_percentage")),s.x().mean("gun_percentage").title("Percentage over total guns"),s.$_Y().fieldN("gun").scale({scheme:"category20b"}).legend(!1).title("Gun type"),s.Ohi().if(b,s.S3k(1)).value(.2)),s.PdE({opacity:.75,color:"white",dx:20}).data(i).transform(s.hXT("datum['gun'] != 'Unknown' && datum['year'] >= "+n+" && datum['year'] <= "+r)).encode(s.fLW().mean("gun_percentage").format(".2f"),s.y().fieldN("gun").sort(s.J69("gun_percentage")),s.x().mean("gun_percentage").title("Percentage over total guns")))}({dataSet:t,options:a}).width(400),function(e){var t=e.dataSet,a=e.options,n=a.yearStart,r=a.yearEnd,i=t.gstm;return s.EY_(s.ZtJ({opacity:.8}).data(i).params(b).transform(s.hXT("datum['gun'] != 'Unknown' && datum['year'] >= "+n+" && datum['year'] <= "+r),s.KfZ('datum["n_killed"]/ (datum["n_injured"] + datum["n_killed"])').as("kill_rate")).encode(s.y().fieldN("gun").sort(s.J69("kill_rate")),s.x().mean("kill_rate").title("Lethality (kills/total victims)"),s.$_Y().fieldN("gun").scale({scheme:"category20b"}).legend(!1).title("Gun type"),s.Ohi().if(b,s.S3k(1)).value(.2)),s.PdE({opacity:.75,color:"white",dx:20}).data(i).transform(s.hXT("datum['gun'] != 'Unknown' && datum['year'] >= "+n+" && datum['year'] <= "+r),s.KfZ('datum["n_killed"]/ (datum["n_injured"] + datum["n_killed"])').as("kill_rate")).encode(s.fLW().mean("kill_rate").format(".2f"),s.y().fieldN("gun").sort(s.J69("kill_rate")),s.x().mean("kill_rate")))}({dataSet:t,options:a}).width(400)).config({mark:{opacity:.9},background:"#1f2937",axis:{titleFontSize:13,tickColor:"white",labelColor:"white",titleColor:"white",gridColor:"white",gridOpacity:.4,domainColor:"white"},legend:{titleFontSize:16,labelFontSize:14,labelColor:"white",titleColor:"white"},scale:{maxSize:1500},view:{stroke:null}})},k=s.dD$().fields("state");var Z={config:{},init:function(e){e.tooltip((new c.RW).call)},view:{renderer:"canvas"}};s.z2l(l,d,Z);var _=function(e){var t=e.dataSet,a=e.options,n=t.gsty,r=t.usa,i=a.gun,o=a.yearStart,l=a.yearEnd;return s.H7P(function(e,t,a,n){return s.HG8().data(e).params(k).transform(s.hXT('datum["gun"] == "'+t+'" && datum["year"] >= '+a+' && datum["year"] <= '+n),s.tqE("state").aggregate(s.J69("latitude").as("latitude"),s.J69("longitude").as("longitude"),s.J69("gun_percentage").as("Percentage of "+t),s.J69("total_guns_per_1M").as("Total guns/1M population/year"))).encode(s.y().fieldN("state").sort(s.J69("Percentage of "+t).order("descending")).title("State"),s.$_Y().fieldQ("Percentage of "+t),s.MdO([s.tvR("state"),s.xiU("Percentage of "+t),s.xiU("Total guns/1M population/year")]),s.Ohi().if(k,s.S3k(1)).value(.2))}(n,i,o,l).height(500),function(e,t,a,n,r){return s.EY_(s._fs({fill:"#374151",stroke:"#fff",strokeWidth:1}).data(s.t_h(r).feature("states")).transform(s.P58("id").from(s.aTG(e).key("fip").fields("state"))).encode(s.MdO("state")),s.y$q({stroke:"white",strokeWidth:2}).data(e).params(k).transform(s.hXT('datum["gun"] == "'+t+'" && datum["year"] >= '+a+' && datum["year"] <= '+n),s.tqE("state").aggregate(s.J69("latitude").as("latitude"),s.J69("longitude").as("longitude"),s.J69("gun_percentage").as("Percentage of "+t),s.J69("total_guns_per_1M").as("Total guns/1M population/year"))).encode(s.pqJ().fieldQ("latitude"),s.MSO().fieldQ("longitude"),s.$_Y().fieldQ("Percentage of "+t).scale({scheme:"redpurple",clamp:!0}),s.dpJ().fieldQ("Total guns/1M population/year").title(["Total guns/","1M population/year"]),s.MdO([s.tvR("state"),s.xiU("Percentage of "+t),s.xiU("Total guns/1M population/year")]),s.Ohi().if(k,s.S3k(1)).value(.2))).project(s.CJN("albersUsa"))}(n,i,o,l,r).height(500).width(720)).config({mark:{opacity:.9},background:"#1f2937",axis:{titleFontSize:16,tickColor:"white",labelColor:"white",titleColor:"white",gridColor:"white",domainColor:"white"},legend:{titleFontSize:14,labelFontSize:12,labelColor:"white",titleColor:"white",symbolFillColor:"#6b7280",symbolStrokeColor:"white"},scale:{maxSize:1500},view:{stroke:null}})},C=function(e){e.dataSet;var t=e.options.dataWord;return console.log(t),{$schema:"https://vega.github.io/schema/vega/v5.json",description:"A word cloud visualization depicting Vega research paper abstracts.",width:800,height:400,padding:0,data:[{name:"table",values:t}],scales:[{name:"color",type:"ordinal",domain:{data:"table",field:"text"},range:["blue","orange","crimson"]}],marks:[{type:"text",from:{data:"table"},encode:{enter:{text:{field:"text"},align:{value:"center"},baseline:{value:"alphabetic"},fill:{scale:"color",field:"text"}},update:{fillOpacity:{value:1}},hover:{fillOpacity:{value:.5}}},transform:[{type:"wordcloud",size:[800,400],text:{field:"text"},rotate:{field:"datum.angle"},font:"Helvetica Neue, Arial",fontSize:{field:"datum.count"},fontWeight:{field:"datum.weight"},fontSizeRange:[12,56],padding:2}]}]}},z=a(5152),O=a(8769),M=a(8418),T=a(7294),P=a(3280),F=["mean_age","underages_ratio"],j=["16 gauge","44 Mag","25 Auto","Handgun","32 Auto","40 SW","10mm","Shotgun","12 gauge","38 Spl","20 gauge","380 Auto","357 Mag","308 Win","28 gauge","30-06 Spr","22 LR","410 gauge","45 Auto","30-30 Win","Rifle","300 Win","Other","9mm"],J=a(131),N=a(3525),U=a(1950),E=function(e){var t=e.func,a=(e.name,e.width,e.height,e.options),r=(0,T.useRef)(),i=(0,U.Z)((function(e){return e.dataset})),o={config:{},init:function(e){e.tooltip((new c.RW).call)},view:{renderer:"canvas"}};return s.z2l(l,d,o),(0,T.useEffect)((function(){try{var e=t({dataSet:i,options:a});(0,N.ZP)(r.current,e)}catch(n){console.log(n)}return function(){r.current&&(r.current.innerHTML="")}}),[r.current,a]),(0,n.tZ)("div",{ref:r,tw:"rounded-2xl"})};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A=O.Z.Option,$=M.Z.Search,Y={visible:{opacity:1,scale:1},hidden:{opacity:0}},q={name:"sj17uo",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;width:75%"},H=function(e){var t=(0,J.YD)({threshold:.4,triggerOnce:!1}),a=(0,i.Z)(t,3),r=a[0],o=a[1];a[2];return(0,n.tZ)(P.E.section,{css:q,animate:o?"visible":"hidden",variants:Y,ref:r,transition:{duration:.2,ease:"easeIn"},children:e.children})},B=(Array.from(Array(6).keys()).map((function(e){return 2013+e})).reduce((function(e,t){return W(W({},e),{},(0,r.Z)({},t,{style:{color:"#f9fafb"},label:(0,n.tZ)("strong",{children:t})}))}),{}),(0,z.default)((function(){return a.e(808).then(a.bind(a,4808))}),{ssr:!1,loadableGenerated:{webpack:function(){return[4808]},modules:["../components/Vis.js -> ./VegaComp"]}})),R=(0,o.Z)("div",{target:"e1coz5px4"})({name:"15hc2t1",styles:"display:flex;flex-direction:column;padding:1rem;justify-content:space-around;align-items:center;margin-top:1.5rem;margin-bottom:1.5rem"}),G=(0,o.Z)("h1",{target:"e1coz5px3"})({name:"16vgk09",styles:'font-weight:600;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:1.5rem;line-height:2rem;--tw-text-opacity:1;color:rgba(249, 250, 251, var(--tw-text-opacity))'}),L=(0,o.Z)("p",{target:"e1coz5px2"})({name:"wutlv0",styles:"display:flex;font-size:1rem;line-height:1.5rem;--tw-text-opacity:1;color:rgba(249, 250, 251, var(--tw-text-opacity));width:100%;padding:1.5rem;text-align:justify"}),D=(0,o.Z)("p",{target:"e1coz5px1"})({name:"1sq8vmt",styles:"display:flex;font-size:0.875rem;line-height:1.25rem;font-style:italic;--tw-text-opacity:1;color:rgba(249, 250, 251, var(--tw-text-opacity));width:100%;padding:1.5rem;text-align:justify"}),Q=(0,o.Z)("div",{target:"e1coz5px0"})({name:"1jzwnv4",styles:"display:flex;flex-direction:row;align-items:center;justify-content:space-around;width:100%"}),V={name:"penxpt",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:2rem;--tw-bg-opacity:1;background-color:rgba(31, 41, 55, var(--tw-bg-opacity));width:100vw"},I={name:"1vq5ps5",styles:"display:flex;justify-content:center;align-items:center;font-size:1.125rem;line-height:1.75rem;flex-direction:column;--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity));height:16rem;width:100vw"},K={name:"1qw7ncn",styles:"font-size:4.5rem;line-height:1"},ee={name:"nqx9k7",styles:"font-size:1rem;line-height:1.5rem"},te={name:"hcytgc",styles:"padding-top:3rem;padding-bottom:3rem;padding-left:5rem;padding-right:5rem;--tw-bg-opacity:1;background-color:rgba(55, 65, 81, var(--tw-bg-opacity))"},ae={name:"16wutu8",styles:'font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity:1;color:rgba(249, 250, 251, var(--tw-text-opacity))'},ne={name:"1sh0k5y",styles:"font-size:1.125rem;line-height:1.75rem;--tw-text-opacity:1;color:rgba(249, 250, 251, var(--tw-text-opacity))"},re={name:"1d3w5wq",styles:"width:100%"},ie={name:"1rxqwkn",styles:"display:flex;column-gap:0.5rem;justify-content:space-around;align-items:center;width:100%"},oe={name:"1d3w5wq",styles:"width:100%"},le={name:"1rxqwkn",styles:"display:flex;column-gap:0.5rem;justify-content:space-around;align-items:center;width:100%"},se=function(){var e=(0,T.useState)(2018),t=e[0],a=(e[1],(0,T.useState)(2018)),r=a[0],i=(a[1],(0,T.useState)(2018)),o=i[0],l=(i[1],(0,T.useState)("WA")),s=(l[0],l[1],(0,T.useState)("WA")),d=(s[0],s[1],(0,T.useState)("gun")),c=d[0],u=d[1],g=(0,T.useState)(!0),p=g[0],m=g[1],w=(0,T.useState)("underages_ratio"),b=w[0],S=w[1],k=(0,T.useState)("Handgun"),Z=k[0],z=k[1],M=j,P=F,J=(0,T.useState)([{text:"loading",value:100,weight:200}]),N=J[0],U=J[1];return(0,T.useEffect)((function(){m(!0),fetch("https://county-pain-israeli-baby.trycloudflare.com/api/getWordCloud",{method:"POST",headers:{"Content-Type":"application/json"},mode:"no-cors",body:JSON.stringify({keyword:c})}).then((function(e){return e.json()})).then((function(e){U(e),m(!1)})).catch((function(e){console.error(e)}))}),[c]),(0,n.BX)("main",{css:V,children:[(0,n.tZ)("section",{children:(0,n.BX)("p",{css:I,children:[(0,n.tZ)("span",{css:K,children:"US Gun Violence"}),(0,n.tZ)("span",{}),(0,n.tZ)("span",{css:ee,children:"Interactive data visualizations about gun violence in US"})]})}),(0,n.BX)("section",{css:te,children:[(0,n.tZ)("h1",{css:ae,children:"Introduction"}),(0,n.tZ)("p",{css:ne,children:"There are a very few countries in the word where citizens have the right to bear arms. US is one of them where their citizens own guns nearly half of all civilian guns in the world. As a result, gun incidents are alarming in US. This project aims to study the trends of gun violence in US and explore any potential concerns regarding civilian-owned guns in US. The dataset used in this project contains records of gun incidents in US from January 2013 to March 2018 provided by Gun Violence Archive. We aim to explore the patterns lie in the demographics of gun perpetrators including age and gender. Moreover, we also want to use a geospatial map to address gun control problems by states. Finally, we will also explore which gun types are most used and most associated with hihger lethality."})]}),(0,n.BX)(H,{children:[(0,n.tZ)(G,{children:"Male and Female perpetrators over time"}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"To understand the characteristics and patterns of gun perpetrators across the years, we first plotted a stacked area plot of the number and proportion of perpetrators of the two genders from 2014 to 2018."})}),(0,n.tZ)(Q,{children:(0,n.tZ)(B,{func:h,name:"perpetratorsByGender"})}),(0,n.tZ)(D,{children:"Drag over the area chart to select a smaller time frame."}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"Overall, the total number of gun violence incidents did not change very much in 5 years. The number of perpetrators from April 2014 to October 2014 was relatively higher. From the percentage graph, we can see that male perpetrators are accounted for a much greater portion compared to female perpetrators at about 10 times higher."})})]}),(0,n.BX)(H,{children:[(0,n.tZ)(G,{children:"Age distribution of perpetrators"}),(0,n.tZ)(Q,{children:(0,n.tZ)(R,{children:(0,n.tZ)(B,{func:y,options:(0,T.useMemo)((function(){return{yearStart:2014,yearEnd:2018,color:"teal"}}),[t]),name:"ageDistribution"})})}),(0,n.tZ)(D,{children:"Click on a boxplot to display the distribution accordingly."}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"Besides the genders, the next important feature of perpetrators to observe is age. The boxplots show how the ages of perpetrators were distributed in each year. The distribution of ages stayed mostly the same throughout the years as mean and median ages of perpetrators did not vary much. The higher mean than the median indicates that the distribution skews left towards younger ages. The number of perpetrators is highest between the ages of 20 - 25. The distribution of each looked pretty much the same except for 2018, because the data is only available for the early months."})})]}),(0,n.BX)(H,{children:[(0,n.tZ)(G,{children:"Underage ratio and mean age of perpetrators across US"}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"Young perpetrators, especially underage ones, are a big concern considering guns falling into young people\u2019s hands. Here, we want to see the number of underage perpetrators in different states and see which states in particular have gun control problems to address. As a result, we plotted a geospatial map showing the number of underage perpetrators in each US state."})}),(0,n.BX)(R,{css:re,children:[(0,n.tZ)("div",{css:ie,children:(0,n.tZ)(O.Z,{showSearch:!0,style:{width:200,fill:"#6b7280"},placeholder:"select feature",optionFilterProp:"children",onChange:function(e){return S(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:P.map((function(e){return(0,n.tZ)(A,{value:e,children:e.replaceAll("_"," ").replaceAll("pctg","percentage")},e)}))})}),(0,n.tZ)(B,{func:f,name:"perpetratorMapFull",options:(0,T.useMemo)((function(){return{field:b,yearStart:r,yearEnd:r}}),[b,r])})]}),(0,n.tZ)(D,{children:"Click to highlight a state."}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"From the map, a pattern is recognizable: the south-eastern states tend to have higher percentages of underage perpetrators. South eastern states also had higher numbers of perpetrators per population."})}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"In the next section, we will explore the gun types used in gun violence incidents, to analyze their distributions and lethality."})})]}),(0,n.BX)(H,{children:[(0,n.tZ)(G,{children:"Number of guns used over time"}),(0,n.tZ)(Q,{children:(0,n.tZ)(R,{children:(0,n.tZ)(B,{func:v,name:"gunArea"})})}),(0,n.tZ)(D,{children:"Click on the legend to highlight specific gun types to compare or drag over the area chart to explore a smaller time frame."}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"Our next part includes finding insights from different gun types used in gun incidents. By plotting a number and percentage of each gun type over time, we could see which types of guns are most commonly used by the perpetrators. The stacked area plot on the left had a huge gap in November 2014, it was caused by missing data. From two graphs, we could see that handguns are used most often among all gun types and the percentage of handguns increased rapidly in 2015. Other frequently used gun types included 9mm, rifle and shotgun."})})]}),(0,n.BX)(H,{children:[(0,n.tZ)(G,{children:"Percentage of guns used and lethality"}),(0,n.tZ)(R,{children:(0,n.tZ)(B,{func:x,name:"numGunByTypes",options:(0,T.useMemo)((function(){return{yearStart:2014,yearEnd:2018}}))})}),(0,n.tZ)(D,{children:"Click a bar to highlight a specific gun type."}),(0,n.tZ)(L,{children:"This visualization has an all-year summary of how frequent each type of gun was used. The trend is similar to what we saw in the previous visualization. However, the lethality of each type of gun (specified by the ratio of total kill count over the total number of victims) varies differently. We can see how handguns as the most common ones are not that lethal compared to long rifles while shotguns tend to be the least lethal."})]}),(0,n.BX)(H,{children:[(0,n.tZ)(G,{children:"Percentage of each gun type across US"}),(0,n.BX)(R,{css:oe,children:[(0,n.tZ)("div",{css:le,children:(0,n.tZ)(O.Z,{showSearch:!0,style:{width:200},placeholder:"Select guns",optionFilterProp:"children",onChange:function(e){return z(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:M.map((function(e){return(0,n.tZ)(A,{value:e,children:e})}))})}),(0,n.tZ)(B,{func:_,name:"gunMapFull",options:(0,T.useMemo)((function(){return{gun:Z,yearStart:o,yearEnd:o}}),[Z,o])})]}),(0,n.tZ)(D,{children:"Click to highlight a state."}),(0,n.tZ)(Q,{children:(0,n.tZ)(L,{children:"Next, we plotted a geospatial map of the US showing how frequent each type of gun is used in each state to see any patterns. Generally, west states had higher rates of guns used. Following the lethality plot in the previous visualization, we can point out states that have more highly lethal gun types. For example, could see Alaska having the most frequent use of a 12 gauge gun which is gun with almost 0.5 lethality. Using the given information we could infer high risk states to a specific gun type and predict future gun violence incidents. By knowing the gun types distributed geographically in the US we could know which gun types are \u201cfavored\u201d by perpetrators in different states or geographical areas and predict their lethalities."})})]}),(0,n.BX)(H,{children:[(0,n.tZ)(G,{children:"Word Cloud"}),(0,n.tZ)($,{placeholder:c,loading:p,onSearch:function(e){u(e)}}),(0,n.tZ)(E,{func:C,name:"wordCloud",options:(0,T.useMemo)((function(){return{dataWord:N}}),[N])}),(0,n.BX)(L,{children:["Here is the word cloud of 1000 most recent tweet from Twitter related to keyword: ",c," The size is encode by number of occurence. The color is encode by the sentiment value calculate from VANDER NLP model."]})]})]})}}}]);