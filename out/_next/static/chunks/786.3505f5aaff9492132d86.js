(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{3786:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var r=n(5944),a=n(9227),i=n(8937),o=n(9444),s=n(537),l=n(3640),d=n(3064),c=n(5779);var u={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,u);var p=function(e){var t=e.dataSet,n=(e.options,t.p),r=s.Uk0().encodings("x"),a=s.x().yearmonth("date"),i=n.filter((function(e){return"Subject-Suspect"===e.type})).derive({month:function(e){return c.op.utcmonth(e.date)},is_male:function(e){return"Male"===e.gender},is_female:function(e){return"Female"===e.gender}}).groupby(["month","year"]).rollup({female_pctg:function(e){return 100*c.op.sum(e.is_female)/(c.op.sum(e.is_female)+c.op.sum(e.is_male))},male_pctg:function(e){return 100*c.op.sum(e.is_male)/(c.op.sum(e.is_female)+c.op.sum(e.is_male))},date:function(e){return c.op.min(c.op.utcdatetime(e.date))}}).derive({date:function(e){return c.op.datetime(e.year,e.month)}}).rename({male_pctg:"male",female_pctg:"female"}).fold(["female","male"]).rename({key:"gender"}),o=n.filter((function(e){return"Subject-Suspect"===e.type})).derive({month:function(e){return c.op.utcmonth(e.date)},is_male:function(e){return"Male"===e.gender},is_female:function(e){return"Female"===e.gender}}).groupby(["month","year"]).rollup({female_count:function(e){return c.op.sum(e.is_female)},male_count:function(e){return c.op.sum(e.is_male)},date:function(e){return c.op.min(c.op.utcdatetime(e.date))}}).derive({date:function(e){return c.op.datetime(e.year,e.month)}}).rename({male_count:"male",female_count:"female"}).fold(["female","male"]).rename({key:"gender"});return s.H7P(s.b59({opacity:.5}).data(o).encode(a,s.y().fieldQ("value").title("Number of perpetrators"),s.$_Y().fieldN("gender").scale({scheme:"set1"})).params(r),s.b59({opacity:.5}).data(i).encode(a,s.y().fieldQ("value").title("Percentage of perpetrators"),s.$_Y().fieldN("gender").scale({scheme:"set1"})).encode(a.scale({domain:r})))};var m={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,m);var f=function(e){var t=e.dataSet,n=e.options;return s.H7P(function(e){var t=e.dataSet,n=e.options,r=t.pst,a=n.field,i=n.yearStart,o=n.yearEnd;return s.HG8().data(r).transform(s.hXT('datum["year"] >= '+i+' && datum["year"] <= '+o)).encode(s.y().fieldN("state").sort(s.J69(a).order("descending")).title("State"),s.$_Y().mean(a),s.MdO([s.tvR("state"),s.J69(a)]))}({dataSet:t,options:n}).height(500),function(e){var t=e.dataSet,n=e.options,r=n.field,a=n.yearStart,i=n.yearEnd,o=t.pst,l=t.usa;return s.aTG(o).layer(s._fs({fill:"#ddd",stroke:"#fff",strokeWidth:1}).data(s.t_h(l).feature("states")).transform(s.P58("id").from(s.aTG(o).key("fip").fields("state"))).encode(s.MdO("state")),s.y$q({stroke:"#5e5e5e"}).data(o).transform(s.hXT('datum["year"] >= '+a+' && datum["year"] <= '+i),s.tqE("state").aggregate(s.J69(r).as(r),s.J69("perpetrators_per_1M").as("perpetrators_per_1M"),s.J69("latitude").as("latitude"),s.J69("longitude").as("longitude"))).encode(s.pqJ().fieldQ("latitude"),s.MSO().fieldQ("longitude"),s.$_Y().mean(r).legend({titleLineHeight:10}).scale({scheme:{mean_age:"goldred",underages_ratio:"yellowgreenblue",male_pctg:"tealblues",female_pctg:"redpurple"}[r]}).title({mean_age:"Perpetrators mean age",underages_ratio:["Ratio of underage/total","perpetrators"],male_pctg:["Percentage of ","male perpetrators"],female_pctg:["Percentage of ","female perpetrators"]}[r]),s.dpJ().mean("perpetrators_per_1M").title(["Perpetrators/","1M population/year"]),s.MdO([s.tvR("state"),s.xiU(r),s.xiU("perpetrators_per_1M")]))).project(s.CJN("albersUsa"))}({dataSet:t,options:n}).height(500).width(720)).config({scale:{maxSize:1500},view:{stroke:null}})};var h={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,h);var g=function(e){var t=e.dataSet,n=e.options,r=t.p,a=n.yearStart,i=n.yearEnd,o=n.color;return s.ZtJ({opacity:.5}).data(r.params({yearStart:a,yearEnd:i}).filter((function(e){return"Subject-Suspect"===e.type})).filter((function(e){return op.year(e.date)>=a&&op.year(e.date)<=i}))).encode(s.x().fieldQ("age").scale({domain:[0,100]}).bin({step:5}),s.y().count().title("Number of Perpetrators"),s.$_Y().value(o))};var y={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,y);var w={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,w);var v={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,v);var b={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,b);var x={config:{},init:function(e){e.tooltip((new d.RW).call)},view:{renderer:"canvas"}};s.z2l(o,l,x);var _=function(e){var t=e.dataSet,n=e.options,r=n.field,a=n.state_abbr,i=n.color,o=t.pst,l={mean_age:"Perpetrators mean age",underages_ratio:["Ratio of underage/total","perpetrators"]};return s.EY_(s.fpH().data(o).encode(s.x().fieldO("year"),s.y().mean(r).title(l[r]),s.$_Y().value("orange")),s.fpH().data(o).transform(s.hXT('datum["state_abbr"] == "'+a+'"')).encode(s.x().fieldO("year"),s.y().mean(r).title(l[r]),s.$_Y().value(i))).width(500)},S=n(5152),Z=n(3764),M=n(3829),B=n(7294),A=n(3280),C=["mean_age","underages_ratio","male_pctg","female_pctg"],k=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],N=n(131);var z=Z.Z.Option,T={name:"1yxf6qu",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center"},I=function(e){return console.log(e.inView),(0,r.tZ)(A.E.section,{css:T,animate:{x:0,visibility:!!e.inView},transition:{ease:"easeOut"},initial:{x:-4e3},children:e.children})},O=(0,S.default)((function(){return n.e(808).then(n.bind(n,4808))}),{ssr:!1,loadableGenerated:{webpack:function(){return[4808]},modules:["../components/Vis.js -> ./VegaComp"]}}),R=(0,i.Z)("div",{target:"e1coz5px2"})({name:"r5wz0a",styles:"padding:1rem;--tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:0.5rem;--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));margin-top:1.5rem;margin-bottom:1.5rem"}),j=(0,i.Z)("h1",{target:"e1coz5px1"})({name:"1xumcok",styles:'font-weight:600;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:1.125rem;line-height:1.75rem'}),X=(0,i.Z)("p",{target:"e1coz5px0"})({name:"10i9bt3",styles:"padding-left:9rem;padding-right:9rem"}),V={name:"1198p6x",styles:"width:100vw;display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:2rem;--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))"},F={name:"q0pix8",styles:"display:flex;justify-content:center;align-items:center;flex-direction:column;--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity));--tw-bg-opacity:1;background-color:rgba(180, 83, 9, var(--tw-bg-opacity));height:16rem;width:100vw"},E={name:"19xagyr",styles:"font-size:2.25rem;line-height:2.5rem"},H={name:"1mbvc0",styles:"padding-top:3rem;padding-bottom:3rem;padding-left:5rem;padding-right:5rem"},U={name:"4dhfq",styles:'font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:1.25rem;line-height:1.75rem;font-weight:700'},W={name:"64i1fw",styles:"display:flex;column-gap:0.5rem;align-items:center"},P={name:"xjt14x",styles:"width:60%"},J={name:"64i1fw",styles:"display:flex;column-gap:0.5rem;align-items:center"},Y={name:"0",styles:""},D={name:"xjt14x",styles:"width:60%"},L={name:"1o39zhp",styles:"display:flex;align-items:center;> :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));}"},G={name:"xjt14x",styles:"width:60%"},$=function(){var e=(0,B.useState)([2013,2018]),t=e[0],n=e[1],i=(0,B.useState)([2013,2018]),o=i[0],s=i[1],l=(0,B.useState)([2013,2018]),d=l[0],c=l[1],u=(0,B.useState)("WA"),m=u[0],h=u[1],y=(0,B.useState)("mean_age"),w=y[0],v=y[1],b=k,x=C,S=(0,N.YD)({threshold:2,triggerOnce:!0}),A=(0,a.Z)(S,3);A[0],A[1],A[2];return(0,r.BX)("main",{css:V,children:[(0,r.tZ)(I,{inView:!0,children:(0,r.BX)("p",{css:F,children:[(0,r.tZ)("span",{css:E,children:"US Gun Violence"}),(0,r.tZ)("span",{children:"Interactive data visualizations about gun violence in US"})]})}),(0,r.BX)("section",{css:H,children:[(0,r.tZ)("h1",{css:U,children:"Introduction"}),(0,r.tZ)("p",{children:"There are a very few countries in the word where citizens have the right to bear arms. US is one of them where their citizens own guns nearly half of all civilian guns in the world. As a result, gun incidents are alarming in US. This project aims to study the trends of gun violence in US and explore any potential concerns regarding civilian-owned guns in US. The dataset used in this project contains records of gun incidents in US from January 2013 to March 2018 provided by Gun Violence Archive. Besides the overall rate of gun violence over time, we aim to use geospatial mapping to see the distribution of gun incidents by states and counties. Using graphical distributions (regression and normal distribution), we will able to explore the demographics of gun perpetrators including age and gender and see any correlations they have with the damage caused. Finally, we will also explore which gun types are most used and most associated with a larger number of casualties. abstract"})]}),(0,r.BX)(I,{inView:!0,children:[(0,r.tZ)(j,{children:"Male and Femal perpetrators over time"}),(0,r.tZ)(R,{children:(0,r.tZ)(O,{func:p,name:"perpetratorsByGender"})}),(0,r.tZ)(X,{children:"Dissuade ecstatic and properly saw entirely sir why laughter endeavor. In on my jointure horrible margaret suitable he followed speedily. Indeed vanity excuse or mr lovers of on. By offer scale an stuff. Blush be sorry no sight. Sang lose of hour then he left find. For norland produce age wishing. To figure on it spring season up. Her provision acuteness had excellent two why intention. As called mr needed praise at. Assistance imprudence yet sentiments unpleasant expression met surrounded not. Be at talked ye though secure nearer."})]}),(0,r.BX)(I,{inView:!0,children:[(0,r.tZ)(j,{children:"Age distributions of perpetrators"}),(0,r.BX)(R,{children:[(0,r.BX)("div",{css:W,children:[(0,r.tZ)("span",{children:"year range"}),(0,r.tZ)(M.Z,{range:!0,value:o,max:2018,min:2013,css:P,onAfterChange:function(e){return s(e)}})]}),(0,r.tZ)(O,{func:g,options:{yearStart:o[0],yearEnd:o[1],color:"teal"},name:"ageHistogram"})]}),(0,r.tZ)(X,{children:"Dissuade ecstatic and properly saw entirely sir why laughter endeavor. In on my jointure horrible margaret suitable he followed speedily. Indeed vanity excuse or mr lovers of on. By offer scale an stuff. Blush be sorry no sight. Sang lose of hour then he left find. For norland produce age wishing. To figure on it spring season up. Her provision acuteness had excellent two why intention. As called mr needed praise at. Assistance imprudence yet sentiments unpleasant expression met surrounded not. Be at talked ye though secure nearer."})]}),(0,r.BX)(I,{inView:!0,children:[(0,r.tZ)(j,{children:"Ratio of underage over total perpretrators across US"}),(0,r.BX)(R,{children:[(0,r.BX)("div",{css:J,children:[(0,r.tZ)(Z.Z,{showSearch:!0,style:{width:200},placeholder:"filter by feature",optionFilterProp:"children",onChange:function(e){return v(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:x.map((function(e){return(0,r.tZ)(z,{value:e,children:e})}))}),(0,r.tZ)("span",{css:Y,children:"year range"}),(0,r.tZ)(M.Z,{range:!0,value:d,max:2018,min:2013,css:D,onAfterChange:function(e){return c(e)}})]}),(0,r.tZ)(O,{func:f,name:"perpetratorMapFull",options:{field:w,yearStart:d[0],yearEnd:d[1]}})]}),(0,r.tZ)(X,{children:"Dissuade ecstatic and properly saw entirely sir why laughter endeavor. In on my jointure horrible margaret suitable he followed speedily. Indeed vanity excuse or mr lovers of on. By offer scale an stuff. Blush be sorry no sight. Sang lose of hour then he left find. For norland produce age wishing. To figure on it spring season up. Her provision acuteness had excellent two why intention. As called mr needed praise at. Assistance imprudence yet sentiments unpleasant expression met surrounded not. Be at talked ye though secure nearer."})]}),(0,r.BX)(I,{inView:!0,children:[(0,r.tZ)(j,{children:"Male and Femal perpetrators over time"}),(0,r.BX)(R,{children:[(0,r.BX)("div",{css:L,children:[(0,r.tZ)(Z.Z,{showSearch:!0,style:{width:200},placeholder:"Select states",optionFilterProp:"children",onChange:function(e){return h(e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:b.map((function(e){return(0,r.tZ)(z,{value:e,children:e})}))}),(0,r.tZ)("span",{children:"year range"}),(0,r.tZ)(M.Z,{range:!0,defaultValue:t,max:2018,min:2013,css:G,onAfterChange:function(e){return n(e)}})]}),(0,r.tZ)(O,{func:_,name:"perpetratorsByTime",options:{field:"mean_age",state_abbr:m,color:"red"}})]}),(0,r.tZ)(X,{children:"Dissuade ecstatic and properly saw entirely sir why laughter endeavor. In on my jointure horrible margaret suitable he followed speedily. Indeed vanity excuse or mr lovers of on. By offer scale an stuff. Blush be sorry no sight. Sang lose of hour then he left find. For norland produce age wishing. To figure on it spring season up. Her provision acuteness had excellent two why intention. As called mr needed praise at. Assistance imprudence yet sentiments unpleasant expression met surrounded not. Be at talked ye though secure nearer."})]})]})}}}]);